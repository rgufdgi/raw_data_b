noise.py

Программа работает с таблицами для отдельных секций, которые формируются в других
программах. Большая часть программы -- функция, записывающая данные в файл для одной
секции.

Используемые столбцы из таблиц с мастерными двнными секции -- 'sdc' - номер секции,
'om' -- номер ОМ (с 0), 't' -- время в микросекундах с начала рана, 'y' -- амплитуда
сигнала АЦП.
(Примечание: время с начала рана для сигнала и его амплитуда в предыдущих программах
задавались следующим образом. В переменную 'y' сохранялось значение середины пика на 
временном кадре, в переменную 't' -- сумма значения времени от начала рана из заголовка
мастерной записи и значения времени на кадре, соответствующее середине пика ('y').)  

Програма считает количества событий под условной шумовой дорожкой, внутри неё и над ней
для 12-ти вспышек лазера. Пока что только для вспышки 1-го лазера на 13-9 и только
для 13-го кластера.

Как определялась шумовая дорожка.
На участках графиков для каждого ОМ, где не видно работы лазера (эти графики были 
построенные раннее, raw_06_3.py) события аппроксимировались горизонтальной прямой,
для 13-го кластера это куски данных до 4500000000 мкс с начала рана и после
7000000000 мкс, соответсвенно от минимального времени в таблице данных для ОМ, 
до максимального. Находилось среднее двух получившихся коэффициентов -- середина
шумовой дорожки. На этих же временных участках находилась минимальная амплитуда
сигнала, из двух снова выбиралась минимальная -- это нижний край шумовой дорожки.
Разность между нижнем краем дорожки и её серединой -- полуширина дорожки, и, наконец,
верхний край дорожки -- середина плюс полуширина.

Определение количества шумовых сигналов в секунду.
Для выбранных для определения шумовых дорожек участков данных считалось количество
сигналов внутри дорожки и над ней, они делились на соответствующее им время в секундах,
и находилось их среднее арифметрическое. В итоге имелось два значения -- среднее 
количество сигналов внутри дорожки и над ней в секунду. Потом они, умноженные на время
работы лазера вычитались из соответствующих значений для лазкрных событий.

Время работы лазеров.
Начало и конец каждой вспышки я смотрела вручную, строя графики в очень крупном
масштабе, на примере 3-го модуля 192 секции. Времена работы лазера получились в
диапазоне от 69,8 до 70,3 секунд. Не очень умно и практично, конечно, но, учитывая,
что я делаю грубую оценку по сырым данным, это не очень критично. Плюс из-за того
что время я зачем-то изналачально брала в секундах от начала рана, для 10-го кластера
оно будет другим. Времена начала и конца вспышек указаны в списке laser в программе,
это, соответсвенно, время для вспышек первого (нижнего) лазера 13-9 для рана на 13-м 
кластере.

Представление результатов.
В файле noises13.txt: есть блоки для ближайших к лазеру секций, где его в принципе
 видно на графиках, и где видны сигналы ниже шумовой дорожки. В каждой секции строка --
 данные для оптического модуля для 12-ти вспышек лазера, разделены \t. Для каждой 
 вспышки приведены следующие данные: low - количество сигналов под шумовой дорожкой,
 mn - количество сигналов внутри дорожки, m - количество сигналов внутри дорожки с 
 вычитанием фона, hn - количесвто сигналов над дорожкой и h - количество сигналов над
 дорожкой с вычитанием фона (это значение иногда уходит в минус, если лазер видно плохо).
 
В файле noises13_low.txt: то же самое, но только сигналы под шумовой дорожкой.
